package godefer

import "fmt"

// 你可以理解为defer主要做一些保底操作，这和await还是区别很大的
// 使用在一些函数前
func DeferTest() {

	// defer 是 Go 语言中的一个特殊关键字，用于延迟执行一个函数调用
	// 它会将函数调用推入一个栈中，在当前函数返回之前按照后进先出的顺序执行
	// 
	// 典型使用场景：
	// 1. 资源释放：如关闭文件、释放锁、关闭数据库连接等
	// 2. 异常处理：在函数返回前执行一些清理操作
	// 3. 日志记录：记录函数的执行状态
	// 4. 状态恢复：在函数返回前恢复某些状态
	// 
	// 注意：
	// - defer 语句会立即求值参数，但函数调用会被延迟
	// - 多个 defer 语句会按照后进先出的顺序执行
	// - defer 可以处理 panic，在函数退出前执行一些必要的清理工作
	
	defer fmt.Println(9)
	fmt.Println(1)
	fmt.Println(2)

}
